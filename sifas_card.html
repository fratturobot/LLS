<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# website: http://ogp.me/ns/website#">
<meta charset="utf-8">

<meta property="og:url" content="https://ratius.github.io/LLS/sifas_card.html">
<meta property="og:title" content="スクスタ カード実装状況">
<meta property="og:type" content="website">
<meta property="og:description" content="スクフェスALL STARSにおける、UR・SRの追加日時のまとめです。">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@ratius55">
<meta name="twitter:creator" content="@ratius55">
<meta name="twitter:title" content="スクスタ カード実装状況">
<meta name="twitter:description" content="スクフェスALL STARSにおける、UR・SRの追加日時のまとめです。">
<meta name="twitter:image" content="https://ratius.github.io/LLS/img/card_list.png">

<title>スクスタ カード実装状況 | ラブライブ！ストレージ</title>
<link rel="icon" type="image/vnd.microsoft.icon" href="img/favicon.ico">
<link rel="stylesheet" href="main.css">
<style><!--

#Legend table{
	border-collapse: collapse;
	border: solid 2px #f29600;
}

#Legend thead {
	background-color: #ffefd6;
}

#Legend td, #Legend th {
	padding: 4px 12px;
	border-top: solid 1px #ccc;
	border-right: solid 1px #ccc;
}


table.cardlist {
	text-align: center;
}

.card-box {
	width: 100%;
	overflow-x: auto;
	white-space: nowrap;
	-webkit-overflow-scrolling: touch;
}

.cardlist tr.header-top th {
	height: 32px;
	padding: 6px 0 0 0;
	border-radius: 20px 20px 0 0;
}

.cardlist tbody th {
	padding: 3px;
	font-size: 80%;
	line-height: 150%;
}

.shadowname {
	color: white;
	filter: drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.7));
}

.cardlist td {
	position: relative;
	width: 100px;
	height: 40px;
	font-size: 80%;
	padding: 3px;
}
.cardlist td img {
	vertical-align: bottom;
}

td:hover .tool-tip {
  display: block;
}

.UR > th {
	background:linear-gradient(45deg, rgb(255,255,192)0%, rgb(255,208,208)25%, rgb(255,192,255)50%, rgb(208,208,255)75%,  rgb(192,255,255) 100%);
}

.SR > th {
	background-color: #ccc;
}


.cap { font-size: 120%; }
.sleep { color: #999; }

.gacha  { background-color: #adf;}
.reward { background-color: #abf;}
.fes    { background-color: #fac;}
.release{ background-color: #eee;}
.party  { background-color: #ed8;}
.none   { background-color: #ddd;}
.na     { background-color: #ffefe7; padding: 1px; border: solid 2px #ecb; color: #ba9;}

.Honoka  { background-color: rgb(255, 163,  54);}
.Eli     { background-color: rgb(122, 238, 255);}
.Kotori  { background-color: rgb(206, 191, 191);}
.Umi     { background-color: rgb( 23, 105, 255);}
.Rin     { background-color: rgb(219, 212,  30);}
.Maki    { background-color: rgb(255,  80,  62);}
.Nozomi  { background-color: rgb(196,  85, 246);}
.Hanayo  { background-color: rgb(106, 230, 115);}
.Nico    { background-color: rgb(255,  79, 145);}

.Chika   { background-color: rgb(255, 149,  71);}
.Riko    { background-color: rgb(255, 158, 172);}
.Kanan   { background-color: rgb( 39, 193, 183);}
.Dia     { background-color: rgb(219,   8,  57);}
.You     { background-color: rgb(102, 192, 255);}
.Yoshiko { background-color: rgb(193, 202, 212);}
.Hanamaru{ background-color: rgb(255, 208,  16);}
.Mari    { background-color: rgb(194,  82, 198);}
.Ruby    { background-color: rgb(255, 111, 190);}

.Ayumu   { background-color: rgb(255, 191, 224);}
.Kasumi  { background-color: rgb(213, 222, 112);}
.Shizuku { background-color: rgb(187, 237, 255);}
.Karin   { background-color: rgb( 74,  47, 237);}
.Ai      { background-color: rgb(255, 130,  70);}
.Kanata  { background-color: rgb(190, 130, 255);}
.Setsuna { background-color: rgb(246,  14,  14);}
.Emma    { background-color: rgb(143, 218, 121); font-size: 80%;}
.Rina    { background-color: rgb(208, 206, 225);}
.Shioriko{ background-color: rgb( 36, 189, 139);}
.Mia     { background-color: rgb(214, 213, 202); font-size: 80%;}
.Lanzhu  { background-color: rgb(248, 200, 196);}

--></style>
<script><!--

const CharId = [
	'Honoka', 'Eli', 'Kotori', 'Umi', 'Rin', 'Maki', 'Nozomi', 'Hanayo', 'Nico',
	'Chika', 'Riko', 'Kanan', 'Dia', 'You', 'Yoshiko', 'Hanamaru', 'Mari', 'Ruby',
	'Ayumu', 'Kasumi', 'Shizuku', 'Karin', 'Ai', 'Kanata', 'Setsuna', 'Emma', 'Rina', 'Shioriko', "Mia", "Lanzhu"
];
const CharName = [
	'高坂 穂乃果', '絢瀬 絵里', '南 ことり', '園田 海未', '星空 凛', '西木野 真姫', '東條 希', '小泉 花陽', '矢澤 にこ',
	'高海 千歌', '桜内 梨子', '松浦 果南', '黒澤 ダイヤ', '渡辺 曜', '津島 善子', '国木田 花丸', '小原 鞠莉', '黒澤 ルビィ',
	'上原 歩夢', '中須 かすみ', '桜坂 しずく', '朝香 果林', '宮下 愛', '近江 彼方', '優木 せつ菜', 'エマ・ヴェルデ', '天王寺 璃奈', '三船 栞子', 'ミア・テイラー', '鐘 嵐珠'
];
const ListMuse = [0,1,2,3,4,5,6,7,8];
const ListAqours = [9,10,11,12,13,14,15,16,17];
const ListNiji = [18,19,20,21,22,23,24,25,26,27,28,29];
const ToolTipSource = {'gacha':'Ｅ特効', 'reward':'Ｅ報酬', 'fes':'Ｆ限定', 'party':'Ｐ限定', 'none':'非イベ', 'release':'初期　'};
const urlParam = location.search.substring(1);

// ■生データから新たなデータを作成
function LoadRawData(){
	// UR・SRを分けて格納するため、キャラ数の2倍の要素数の配列を用意
	CardList = new Array(CharId.length * 2);
	for(i=0; i<CharId.length * 2; i++) {
		CardList[i] = new Array();
	}
	for(i=0; i<RawCardList.length; i++) {
		if(CharId.indexOf(RawCardList[i].name) == -1){
			console.log("警告：不明なキャラクターID (" + RawCardList[i].name + ")");
			break;
		} //存在しなければ飛ばす
		var key = CharId.indexOf(RawCardList[i].name); // キャラ番号を確認
		
		if(RawCardList[i].rare == 'SR') { key += CharId.length;}
		CardList[key].push(RawCardList[i]);
		if(RawCardList[i].id === -1){ // 欠番扱いならoffsetの枚数だけ、「id:-2」というデータをコピー
			for(j=0; j<RawCardList[i].offset-1; j++){
				CardList[key].push({"id": -2});
			}
		}
	}
}

// ■凡例を作成
function DrawLegend(){
 	var Output = '\n'
	+ '<table><thead><th>表記<\/th><th>解説<\/th><\/thead><tbody>'
	+ '<tr><th class="release">'+ ToolTipSource['release']+ '<\/th><td>恒常。そのキャラクターの実装と同時に登場したカード<\/td><\/tr>'
	+ '<tr><th class="none">'   + ToolTipSource['none']   + '<\/th><td>恒常。初期実装分でなく、イベントとも無関係なカード<\/td><\/tr>'
	+ '<tr><th class="gacha">'  + ToolTipSource['gacha']  + '<\/th><td>恒常。イベントガチャで登場<\/td><\/tr>'
	+ '<tr><th class="reward">' + ToolTipSource['reward'] + '<\/th><td>イベント報酬として登場<\/td><\/tr>'
	+ '<tr><th class="fes">'    + ToolTipSource['fes']    + '<\/th><td><b>スクスタフェス限定<\/b>。特定のガチャから排出<\/td><\/tr>'
	+ '<tr><th class="party">'  + ToolTipSource['party']  + '<\/th><td><b>パーティーガチャ限定<\/b>。特定のガチャから排出<\/td><\/tr>'
	+ '<\/tbody><\/table>';
	return Output;
}


// ■テーブルを作成
function DrawTable(group, groupsub){
	var Output = '<div class="card-box">\n<table class="cardlist" style="min-width: ' + (100+group.length*108) + 'px">\n';

	//■ヘッダー
	Output += '<thead>\n<tr class="header-top">\n<th><\/th>\n';
	for(x=0; x<group.length; x++){
		Output += '<th class="' + CharId[group[x]] + '"><strong class="shadowname">'
		+ CharName[group[x]] + '<\/strong><\/th>\n';
	}

	Output += '<\/tr>\n<\/thead>\n<tbody>\n';
	var y=0;
	var z=0;

	//■メイン
	while(z<=1){
		Rarity = ['UR','SR'][z];
		OutputTmp = '';
		blank = 0; //仕込み
		OutputTmp += '<tr class="' + Rarity +'"><th><span class="cap">' + Rarity + ' ' + (y+1) + '枚目<\/span>';
		if(z==1){ //SRの場合、衣装名も出す
			if(y < OutfitList[groupsub].length){
				OutputTmp += '<br><span style="font-weight:normal">(' + OutfitList[groupsub][y] + ')<\/span>';
			}
		}
		OutputTmp +=  '<\/th>\n';
		
		for(x=0; x<group.length; x++){
			if(y < CardList[group[x] + z*CharId.length].length){ //あるならば
				ListTmp = CardList[group[x] + z*CharId.length][y]

				if(ListTmp.id === -2){
					continue;
				}
				if(ListTmp.id === -1){
					OutputTmp += '<td class="na" style="width: 96px;" rowspan="' + ListTmp.offset +'"><\/td>\n';
				} else {
					ToolTipTmp = (ListTmp.id ? 'No.' + ListTmp.id : '') + ' ' + ListTmp.desc;
					
					if(ListTmp.cn1 && ListTmp.cn2){ //覚醒前後がきちんと出ていれば
						ToolTipTmp += '&#10;覚醒前：' + ListTmp.cn1 + '&#10;覚醒後：' + ListTmp.cn2 ;
					} else {
						console.log("[データ不備] " + ListTmp.id + "番の覚醒前/覚醒後カード名が設定されていません");
					}
				
					OutputTmp += '<td class="' + ListTmp.source + '" title="' + ToolTipTmp + '">'
					+ '<strong>' + ToolTipSource[ListTmp.source] + '<\/strong>'
					+ (ListTmp.atr ? ' <img src="img/atr_' + ListTmp.atr.toLowerCase() + '.png" width="24" height="24" alt="' +  ListTmp.atr.toLowerCase() + '">' : '')
					+ (ListTmp.type ? '<img src="img/type_' + ListTmp.type.toLowerCase() + '.png" width="24" height="24" alt="' + ListTmp.type.toLowerCase() + '">' : '')
					+ (urlParam ? '' : '<br>' + ListTmp.date)
					+ '<\/td>\n';
				}
			}else{
				OutputTmp += '<td><\/td>\n';
				blank++;
			}
		}
		if(blank == group.length || y >= 30){ //全部が空マスか、リストが長くなりすぎたら中断
			y=0;
			z++;
		} else { 
			y++;
			Output += OutputTmp;
		}
	}
	Output += '<\/tbody>\n<\/table>\n<\/div>\n';
	return Output;
}

--></script>
</head>
<body>

<header>
	<h2>スクスタ カード実装状況</h2>
</header>

<section>
	<h3 class="foreword">まえがき</h3>
	<p>
		「ラブライブ！スクールアイドルフェスティバルALL STARS」で実装されているUR・SRのまとめです。<br>
		追加メンバーの「○枚目」は、URはゲーム内のパラメータの合計値を、SRは衣装セットを基準に設定しています。<br>
		PCで閲覧している場合、セルにカーソルを当てることで詳しい情報のツールチップが出現します。<br>
	</p>
	<p id="RecordedData"></p>
</section>

<div id="Loading">
	<h4>Now Loading...</h4>
	このコンテンツはJavaScriptを使用しています。<br>
	いつまで待ってもこの表示が消えない場合、JavaScriptがオフになっている可能性があります。<br>
	お手数ですが、JavaScriptの実行を許可した上でページを再読み込みしてください。<br>
</div>

<section id="Legend">
	<h3 class="foreword">凡例</h3>
</section>

<section>
	<h3 class="liella">カード一覧</h3>
	<section id="Muse">
		<h4 class="muse">μ's</h4>
	</section>

	<section id="Aqours">
		<h4 class="aqours">Aqours</h4>
	</section>

	<section id="Niji">
		<h4 class="niji">ニジガク</h4>
	</section>	
</section>

<section>
<h3 class="niji">更新履歴 (カード追加以外)</h3>
<p>下のボックス内の、色つきの日付の行をクリックすると詳しい情報が表示されます。</p>
<div id="history2">
	<details open>
		<summary><span class="date">2022/06/25</span></summary>
		<div>
			<span class="fix"></span>「UR ○枚目」の背景を、背景画像を用いない方法に変更<br>
			<span class="fix"></span>更新履歴をリニューアル（他ページ同様、折りたたみ式に変更）
		</div>
	</details>
	<details>
		<summary><span class="date">2022/01/19</span></summary>
		<div>
			<span class="new"></span>凡例を追加<br>
			<span class="new"></span>SRの行にセット名を記載<br>
			<span class="fix"></span>栞子・ランジュ・ミアの欠損値のデザインを変更
		</div>
	</details>
	<details>
		<summary><span class="date">2021/09/08</span> - ミア・ランジュ実装に伴う調整</summary>
		<div>
			<span class="new"></span>「ミア・テイラー」「鐘嵐珠」の列を追加
		</div>
	</details>
	<details>
		<summary><span class="date">2021/02/13</span> - パーティーガチャ登場に伴う調整</summary>
		<div>
			<span class="new"></span>「パーティーガチャ限定」の表示に対応
		</div>
	</details>
	<details>
		<summary><span class="date">2021/08/05</span> - 栞子実装に伴う調整</summary>
		<div>
			<span class="new"></span>「三船栞子」の列を追加
		</div>
	</details>
	<details>
		<summary><span class="date">2021/03/19</span></summary>
		<div>
			<span class="new"></span>属性・タイプの表示を追加
		</div>
	</details>
	<details>
		<summary class="important"><span class="date">2021/03/15</span> - 公開</summary>
		<div>
			<span class="new"></span>公開
		</div>
	</details>
</div>
</section>

<nav>
<p><a href="index.html">トップページに戻る。</a></p>
</nav>


<script><!--
function loadScript(src, callback) {
    var done = false;
    var head = document.getElementsByTagName('head')[0];
    var script = document.createElement('script');
    script.src = src;
    head.appendChild(script);
    // Attach handlers for all browsers
    script.onload = script.onreadystatechange = function() {
        if ( !done && (!this.readyState ||
                this.readyState === "loaded" || this.readyState === "complete") ) {
            done = true;
            callback();
            // Handle memory leak in IE
            script.onload = script.onreadystatechange = null;
            if ( head && script.parentNode ) {
                head.removeChild( script );
            }
        }
    };
}

loadScript("data/cards.js", function() {
	var CardList = [];
	LoadRawData();

	document.getElementById("RecordedData").innerHTML = '掲載データ範囲：' + LatestUpdate + '';

	document.getElementById("Legend").innerHTML += DrawLegend();

	document.getElementById("Muse").innerHTML   += '\n' + DrawTable(ListMuse, 0);
	document.getElementById("Aqours").innerHTML += '\n' + DrawTable(ListAqours, 1);
	document.getElementById("Niji").innerHTML   += '\n' + DrawTable(ListNiji, 2);

	document.getElementById("Loading").style.display = "none";
});
--></script>

</body>
</html>