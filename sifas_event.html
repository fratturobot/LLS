<!DOCTYPE html>
<html lang="ja">
<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# website: http://ogp.me/ns/website#">
<meta charset="utf-8">

<meta property="og:url" content="https://ratius.github.io/LLS/sifas_event.html">
<meta property="og:title" content="スクスタ 過去のイベントまとめ">
<meta property="og:type" content="website">
<meta property="og:description" content="スクスタのイベントストーリーで開催されたイベント、および共演したペアのまとめです。">

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@ratius55">
<meta name="twitter:creator" content="@ratius55">
<meta name="twitter:title" content="スクスタ 過去のイベントまとめ">
<meta name="twitter:description" content="スクスタのイベントストーリーで開催されたイベント、および共演したペアのまとめです。">
<meta name="description" content="スクスタのイベントストーリーで開催されたイベント、および共演したペアのまとめです。">

<meta name="viewport" content="width=1200px, initial-scale=1">

<title>スクスタ 過去のイベントまとめ | ラブライブ！ストレージ</title>
<link rel="icon" type="image/vnd.microsoft.icon" href="img/favicon.ico">
<link rel="stylesheet" href="main.css">
<link rel="stylesheet" href="color.css" media="print" onload="this.media='all'">
<style><!--

/*■スクロール可能なテーブル */
.FixedHeader {
	overflow-y: scroll;
	width: min(calc(100% - 20px), 1200px);
	height: calc(80vh - 30px);
}

.FixedHeader table {
	width: 100%;
	border-collapse: separate;
	border-spacing: 0;
}

.FixedHeader thead {
	position: sticky;
	z-index: 3;
	top: 0;
}

/*■色指定：イベント一覧 */
#EventList-Border {
	border: solid 3px #e50080;
	background-color: rgb(255, 240, 247);
}

#EventList thead { background-color: #f4abd2;}
#EventList thead tr:nth-child(2){ background-color: #ffdbef;}
#EventList thead .border-r { border-right: solid 1px #e50080;}
#EventList thead .border-b { border-bottom: solid 2px #e50080;}

#EventList tbody td{
	padding: 2px 5px;
	border-right: solid 1px #ccc;
	border-bottom: solid 1px #bbb;
}

#EventList .group_M { background-color: #ffdbef; }
#EventList .group_A { background-color: #dbf4ff; }
#EventList .group_N { background-color: #ffefd6; }

/*■個別指定：キャラクター登場状況一覧 */
#SingleData-Border {
	border: solid 3px #19b1f6;
	background-color: rgb(240, 247, 255);
}

#SingleData thead { background-color: #9de3fe;}
#SingleData thead .border-r { border-right: solid 1px #19b1f6;}
#SingleData thead .border-b { border-bottom: solid 2px #19b1f6;}
#SingleData tbody tr{ height: 30px; }
#SingleData tbody td{
	padding: 2px 5px;
	border-right: solid 1px #ccc;
	border-bottom: solid 1px #bbb;
}

#Single-Table {
	border: 2px solid #00a0ea;
}

/*■個別指定：ペア共演状況 */
#Pair-Table {
	width: calc(100% - 14px);
	height: 80vh;
	text-align: center;
	border-collapse: collapse;
	border: 3px solid #f29600;
}

#Pair-Table td{
	padding: 0;
}

.PT-Top       { overflow-x: hidden; height: 28px; border-bottom: 2px solid #973;}
.PT-Top tr    { height: 28px; }
.PT-Bottom    { overflow-x: scroll; height: calc(80vh - 30px);}
.PT-Bottom tr { height: 59px; }
.PT-Left      { overflow-y: hidden; width: 62px; border-right: 2px solid #973;}
.PT-Left th   { width: 60px;}
.PT-Right     { overflow-y: scroll; width: calc(100vw - 117px); margin-right: 0;}
.PT-Right td, div.PT-Right th { width: 74px; }

.quarter-table {
	border-collapse: collapse;
	padding: 1px 0;
	text-align:center;
}

#PT-TL { background-color: #dbf4ff; }

.PT-Right > .quarter-table th,
.PT-Right > .quarter-table td {
	border-right: 1px solid #aaa;
}
.PT-Bottom > .quarter-table tr {
	border-bottom: 1px solid #aaa;
}
.quarter-table td { color: #999; }

.bg_Lanzhu{ font-size:10pt;}


/*■個別指定：トリオ重複状況 */
#Trio-Border{
	border: solid 3px #da57d8;
	background-color: rgba(226,126,176,0.1);
}

#Trio-Border thead{
	background-color: rgb(242, 195, 237);
}

#Trio-Border thead th{
	border-right: solid 1px #da57d8;
	border-bottom: solid 2px #da57d8;
}

#Trio-Table tbody th{
	padding: 5px;
	border-right: solid 1px #aaa;
}
#Trio-Table tbody td{
	padding: 5px;
	font-size: small;
	border-right: solid 1px #aaa;
}

#Trio-Table tbody tr:not(:last-child) th,
#Trio-Table tbody tr:not(:last-child) td {
	border-bottom: solid 1px #aaa;
}

.trioname {
	width: 65px;
}

.shadowname {
	position: relative;
	color: white;
	filter: drop-shadow(0px 0px 2px rgba(0, 0, 0, 0.7));
	z-index: 1;
}

td.bg_tp_white{
	background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAQCAMAAAAcVM5PAAAAMFBMVEWEhISHh4eLi4uPj4+Tk5OXl5ebm5ufn5+jo6Onp6erq6uvr6+zs7O3t7e7u7vAwMC/AbLaAAAALElEQVR42jXBtwHAIADAMNNLAvz/LYuROGKLJX7xiSmG6KKJKorIIokogngubj8DwatbdggAAAAASUVORK5CYII=);
	background-size:contain;
	background-blend-mode: screen;
}
.EventBox {
	display: inline-block;
	text-align: center;
	vertical-align: middle;
	width: 18px;
	height: 18px;
	line-height: 18px;
	border: 1px solid #666;
	border-radius: 50%;
	margin: 0 1px;
}

.EventBox span {
	font-size: small;
	font-weight: bold;
	vertical-align: middle;
}

--></style>
<script><!--
//■デバッグモード判定
let isDebugMode = false;
const Parameter = location.search.substring(1).split('&');
if(Parameter.indexOf('debug') >= 0){ isDebugMode = true; }

//■各種データ
const TagData = {
	"Honoka":   {"number":0 , "name": "穂乃果",  "color": "black", "group": "M"},
	"Eli":      {"number":1 , "name": "絵里",    "color": "black", "group": "M"},
	"Kotori":   {"number":2 , "name": "ことり",  "color": "black", "group": "M"},
	"Umi":      {"number":3 , "name": "海未",    "color": "white", "group": "M"},
	"Rin":      {"number":4 , "name": "凛",      "color": "black", "group": "M"},
	"Maki":     {"number":5 , "name": "真姫",    "color": "white", "group": "M"},
	"Nozomi":   {"number":6 , "name": "希",      "color": "white", "group": "M"},
	"Hanayo":   {"number":7 , "name": "花陽",    "color": "black", "group": "M"},
	"Nico":     {"number":8 , "name": "にこ",    "color": "white", "group": "M"},
	"Chika":    {"number":9 , "name": "千歌",    "color": "black", "group": "A"},
	"Riko":     {"number":10, "name": "梨子",    "color": "black", "group": "A"},
	"Kanan":    {"number":11, "name": "果南",    "color": "black", "group": "A"},
	"Dia":      {"number":12, "name": "ダイヤ",  "color": "white", "group": "A"},
	"You":      {"number":13, "name": "曜",      "color": "black", "group": "A"},
	"Yoshiko":  {"number":14, "name": "善子",    "color": "black", "group": "A"},
	"Hanamaru": {"number":15, "name": "花丸",    "color": "black", "group": "A"},
	"Mari":     {"number":16, "name": "鞠莉",    "color": "white", "group": "A"},
	"Ruby":     {"number":17, "name": "ルビィ",  "color": "black", "group": "A"},
	"Ayumu":    {"number":18, "name": "歩夢",    "color": "black", "group": "N"},
	"Kasumi":   {"number":19, "name": "かすみ",  "color": "black", "group": "N"},
	"Shizuku":  {"number":20, "name": "しずく",  "color": "black", "group": "N"},
	"Karin":    {"number":21, "name": "果林",    "color": "white", "group": "N"},
	"Ai":       {"number":22, "name": "愛",      "color": "black", "group": "N"},
	"Kanata":   {"number":23, "name": "彼方",    "color": "white", "group": "N"},
	"Setsuna":  {"number":24, "name": "せつ菜",  "color": "white", "group": "N"},
	"Emma":     {"number":25, "name": "エマ",    "color": "black", "group": "N"},
	"Rina":     {"number":26, "name": "璃奈",    "color": "black", "group": "N"},
	"Shioriko": {"number":27, "name": "栞子",    "color": "white", "group": "N"},
	"Mia":      {"number":28, "name": "ミア",    "color": "black", "group": "N"},
	"Lanzhu":   {"number":29, "name": "ランジュ","color": "black", "group": "N"}
};
const TagDataLength = Object.keys(TagData).length;
const PairTableWidth = 100;

//■■各種関数
//■Date型を「YYYY/MM/DD (hh:mm)」という文字列に変換
function GetStringFromDate(date, hm){
	const temp = new Date(date);
	
	if(temp.getFullYear() == 1970){ //取得失敗などの理由で1970年になった場合、空文字列を返す
		console.log("Error: " + temp + "may not be a date");
		return "";
	}
	let temp2 = temp.getFullYear()
	+ "/" + ("00" + (temp.getMonth()+1)).slice(-2)
	+ "/" + ("00" + (temp.getDate())).slice(-2);
	if(hm){
		temp2 += " " + ("00" + (temp.getHours())).slice(-2)
		+ ":" + ("00" + (temp.getMinutes())).slice(-2);
	}
	return temp2;
}

//■キャラクター用のルックアップテーブル (ID, データ種)
function LookUp(id, data){
	return false;
}

//■イベント用のルックアップテーブル (イベントNo., データ種)
function LookUpEvent(id, data){
	return EventList.filter((u)=>{return(u.id === id);})[0][data];
}

//■■描画用関数
//■丸ボタン
function DrawRoundButton(CharId, EventId, Prefix){
	return '<div class="EventBox bg_as_' + CharId + '" title="'
	+ (Prefix ? Prefix + '\n' : '')
	+ LookUpEvent(EventId,"name") + '\n'
	+ '(' + GetStringFromDate(LookUpEvent(EventId,"started"), false)
	+ '～' + GetStringFromDate(LookUpEvent(EventId,"ended"), false) + ')'
	+ '" style="color:' + TagData[CharId].color + '">'
	+ '<span>' + EventId + '<\/span><\/div>';
}

//■イベント一覧
function WriteEventList(){
	let Output = '';

	//■メイン
	for(const CurrentEvent of EventList){
		Output += '<tr><td style="text-align:center;">' + CurrentEvent.id
		+ '<\/td><td>' + CurrentEvent.name
		+ '<\/td><td style="font-size: small; text-align:center;';
		switch(CurrentEvent.type) {
			case "story":
				Output += ' background-color:#cef;">ストーリー';
				break;
			case "exchange":
				Output += ' background-color:#fdc;">交換所';
				break;
			default:
				Output += '">' + CurrentEvent.type;
		}
		Output += '<\/td><td style="font-size: small;">開始：' + GetStringFromDate(CurrentEvent.started, true) + '<br>'
		+ '終了：' +  GetStringFromDate(CurrentEvent.ended, true)
		+ ' (' + Math.round((CurrentEvent.ended - CurrentEvent.started)/86400000) + '日間)'
		+ '<\/td><td style="font-size: small;">';

		if('UR' in CurrentEvent){
			for(temp1=0; temp1<CurrentEvent.UR.length; temp1++){
				const CurrentId = CurrentEvent.UR[temp1];
				if(CurrentId in TagData){
					Output += '<span class="group_' + TagData[CurrentId].group + '">' +  TagData[CurrentId].name + '<\/span>' ;
					if(temp1 < CurrentEvent.UR.length-1){ Output += '、';}
				}
			}
		}
		Output += '<\/td><td style="font-size: small;">';
		
		if('SR' in CurrentEvent){
			for(temp1=0; temp1<CurrentEvent.SR.length; temp1++){
				const CurrentId = CurrentEvent.SR[temp1];
				if(CurrentId in TagData){
					Output += '<span class="group_' + TagData[CurrentId].group + '">' +  TagData[CurrentId].name + '<\/span>' ;
					if(temp1 < CurrentEvent.SR.length-1){ Output += '、';}
				}
			}
		}
		Output +=  '<\/td><\/tr>';
	}
	document.getElementById("EventList-contents").innerHTML += Output;
}

//■トリオ用のデータ集計。最大4重の配列で格納する
//  TrioHistory[a][0]   は、メンバーaの出席状況の配列
//  TrioHistory[a][b][0]は、メンバーa・a+bの共演状況の配列
//  TrioHistory[a][b][c]は、メンバーa・a+b・a+b+cの共演状況の配列

let TrioHistory = new Array(TagDataLength);
for(temp1=0; temp1<TagDataLength; temp1++){
	TrioHistory[temp1] = new Array(TagDataLength - temp1);
	TrioHistory[temp1][0] = [];
	
	for(temp2=1; temp2<TrioHistory[temp1].length; temp2++){
		TrioHistory[temp1][temp2] = new Array(TagDataLength - temp1 - temp2);
		TrioHistory[temp1][temp2][0] = [];
		
		for(temp3=1; temp3<TrioHistory[temp1][temp2].length; temp3++){
			TrioHistory[temp1][temp2][temp3] = [];
		}
	}
}

//■表にデータを埋め込む
function MakeTrioData(){
	//各イベントに埋め込まれた、参加キャラクターを見る
	for(CurrentEvent of EventList){
		let charlisttemp = []
		if('UR' in CurrentEvent){ charlisttemp = charlisttemp.concat(CurrentEvent.UR); }
		if('SR' in CurrentEvent){ charlisttemp = charlisttemp.concat(CurrentEvent.SR); }
		let temp2 = new Array();
		for(j of charlisttemp){
			if(j in TagData){
				temp2.push(TagData[j].number) //正しいキャラIDなら、キャラクター番号を格納
			}
		}
		temp2 = temp2.sort(function(a,b){return a-b}); //イベント参加者のIDを昇順に並べ替えて
		
		if(temp2.length < 3){ //3名未満のイベントは集計しない
			continue;
		}

		//そこからソロ・ペア・トリオのデータを生成
		for(let c1=0; c1<temp2.length; c1++){
			TrioHistory[temp2[c1]][0].push(CurrentEvent.id);
			if(c1>charlisttemp.length-2){ break; }

			for(let c2=c1+1; c2<temp2.length; c2++){
				TrioHistory[temp2[c1]][temp2[c2]-temp2[c1]][0].push(CurrentEvent.id);
				if(c2>charlisttemp.length-1){ break; }

				for(let c3=c2+1; c3<temp2.length; c3++){
					TrioHistory[temp2[c1]][temp2[c2]-temp2[c1]][temp2[c3]-temp2[c2]].push(CurrentEvent.id);
				}
			}
		}
	}
}

// ■「キャラクター登場状況」テーブルの作成（キャラ別）
function DrawSingleTable(){
	let Output = '';
	
	for(const CharId in TagData){
		const CharNumber = TagData[CharId].number;
		
		Output += '<tr><th class="bg_as_' + CharId + '">'
		+ '<strong class="shadowname">' + TagData[CharId].name + '<\/strong><\/th>'
		+ '<td class="sttd" style="text-align:center;">' + TrioHistory[CharNumber][0].length + '<br><\/td>'
		+ '<td class="sttd">';
		
		let k = 0;
		for(CurrentEvent of TrioHistory[CharNumber][0]){
			Output += DrawRoundButton(CharId, CurrentEvent, false);
			if(++k >= 5){ Output += " "; k=0;}
		}
		Output += '<\/tr>\n';
		
	}
	
	document.getElementById("SingleData-contents").innerHTML += Output;
}

// ■「ペア共演状況」テーブルの作成
function DrawPairTable(){

	//■右上
	var Output = '<table class="quarter-table" style="width: '
	+ (TagDataLength*PairTableWidth) + 'px">\n<thead>\n<tr>\n';
	
	for(x in TagData){
		//キャラクター名取得
		Output += '<th class="bg_as_' + x + '"><strong class="shadowname">'
		+ TagData[x].name + '<\/strong><\/th>\n';
	}
	Output += '<\/tr>\n<\/thead>\n<\/table>';
	document.getElementById("PT-TR").innerHTML = Output;

	//■左下
	Output = '<table class="quarter-table">\n<tbody>\n';
		
	for(y in TagData){
		Output += '<tr><th class="bg_as_' + y + '"><strong class="shadowname">'
		+ TagData[y].name + '<\/strong><\/th><\/tr>\n';
	}
	Output += '<\/tbody>\n<\/table>';
	document.getElementById("PT-BL").innerHTML = Output;

	//■右下
	Output = '<table class="quarter-table" style="width: ' + (TagDataLength*PairTableWidth) + 'px">\n<tbody>\n';
	
	for(y in TagData){
		Output += '<tr>\n';
		for(x in TagData){
			if(x === y){ //同キャラは灰色
				Output += '<td style="background-color:#aaa"><\/td>\n';
			}else {
				let CirclesInRow = 0; //丸の個数を数えて、必要に応じて改行
				Output += '<td class="bg_tp_white bg_as_' + y + '">'
				const temp1 = [TagData[x].number, TagData[y].number].sort(function(a,b){return a-b});
				if(TrioHistory[temp1[0]][temp1[1]-temp1[0]][0].length == 0){
					Output += '－';
				}
				for(z of TrioHistory[temp1[0]][temp1[1]-temp1[0]][0]){
					Output += DrawRoundButton(x, z, TagData[x].name + '・' + TagData[y].name)
					
					if(++CirclesInRow == 4){ //改行処理
						Output += '<br>';
						CirclesInRow = 0;
					}
				}
				Output += '<\/td>\n';
			}
		}
		Output += '<\/tr>\n';
	}
	Output += '<\/table>';
	document.getElementById("PT-BR").innerHTML = Output;
}

// ■「トリオ重複状況」テーブルの作成
function DrawDuplicatedTrioList(min){
	let Output = '';

	for(temp1=0; temp1<TrioHistory.length; temp1++){
		for(temp2=1; temp2<TrioHistory[temp1].length; temp2++){
			for(temp3=1; temp3<TrioHistory[temp1][temp2].length; temp3++){
				if(TrioHistory[temp1][temp2][temp3].length >= min){
					const Char1Id = Object.keys(TagData)[temp1];
					const Char2Id = Object.keys(TagData)[temp1+temp2];
					const Char3Id = Object.keys(TagData)[temp1+temp2+temp3];
					
					Output += '<tr>'
					+ '<th class="bg_as_' + Char1Id + ' trioname"><span class="shadowname">'
					+ TagData[Char1Id].name + '<\/span><\/th>'
					+ '<th class="bg_as_' + Char2Id + ' trioname"><span class="shadowname">'
					+ TagData[Char2Id].name + '<\/span><\/th>'
					+ '<th class="bg_as_' + Char3Id + ' trioname"><span class="shadowname">'
					+ TagData[Char3Id].name+ '<\/span><\/th>'
					+ '<th style="width: 30px; background-color: hsl('
					+ (TrioHistory[temp1][temp2][temp3].length*50-60)
					+ 'deg 90% ' + (100-TrioHistory[temp1][temp2][temp3].length*7) + '%)">'
					+ TrioHistory[temp1][temp2][temp3].length + '<\/th>'
					+ '<td style="background-color: white;">';
					
					for(temp4 of TrioHistory[temp1][temp2][temp3]){
						Output += "「" + LookUpEvent(temp4,"name") + "」";
					}
					Output += '<\/td><\/tr>\n';
				}
			}
		}
	}
	document.getElementById("TrioData-contents").innerHTML = Output;
}

//■スクロールバー連動
function SyncScroll() {
	document.getElementById('PT-TR').scrollLeft = document.all('PT-BR').scrollLeft;
	document.getElementById('PT-BL').scrollTop = document.all('PT-BR').scrollTop;
}

--></script>

</head>
<body>
<header>
	<h2 id="MainTitle">スクスタ 過去のイベントまとめ</h2>
</header>

<section>
	<h3 class="foreword">まえがき</h3>
	<p>
		スクフェスALL STARSのイベントストーリーおける、各ペアの共演状況です。<br>
		PCで閲覧している場合、イベント番号の書かれた丸にカーソルを当てることで詳しい情報のツールチップが出現します。
	</p>
</section>

<div id="Loading">
	<h4>Now Loading...</h4>
	このコンテンツはJavaScriptを使用しています。<br>
	いつまで待ってもこの表示が消えない場合、JavaScriptがオフになっている可能性があります。<br>
	お手数ですが、JavaScriptの実行を許可した上でページを再読み込みしてください。<br>
</div>

<section>
	<h3 class="muse">イベント一覧</h3>
	<div id="EventList-Border" class="FixedHeader">
		<table id="EventList">
			<thead>
				<tr class="header-top">
					<th rowspan="2" class="border-r border-b">No.</th>
					<th rowspan="2" class="border-r border-b">イベント名</th>
					<th rowspan="2" class="border-r border-b">タイプ</th>
					<th rowspan="2" class="border-r border-b">開催期間</th>
					<th colspan="2" class="border-r">参加キャラクター</th>
				</tr>
				<tr>
					<th class="border-b">UR</th>
					<th class="border-r border-b">SR</th>
				</tr>
			</thead>
			<tbody id="EventList-contents"></tbody>
		</table>
	</div>
</section>

<section>
	<h3 class="aqours">キャラクター登場状況</h3>
	<div id="SingleData-Border" class="FixedHeader">
		<table id="SingleData">
			<thead>
				<tr>
					<th class="border-r border-b" style="width: 100px;">キャラクター</th>
					<th class="border-r border-b" style="width: 80px;">登場回数</th>
					<th class="border-r border-b">参加イベント</th>
				</tr>
			</thead>
			<tbody id="SingleData-contents"></tbody>
		</table>
	</div>
</section>

<section id="PairData">
	<h3 class="niji">ペア共演状況</h3>
	<table id="Pair-Table">
		<thead>
			<tr>
				<td><div class="PT-Top PT-Left" id="PT-TL"></div></td>
				<td><div class="PT-Top PT-Right" id="PT-TR"></div></td>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><div class="PT-Bottom PT-Left" id="PT-BL"></div></td>
				<td><div class="PT-Bottom PT-Right" id="PT-BR" onscroll="SyncScroll();"></div></td>
			</tr>
		</tbody>
	</table>
</section>

<section>
	<h3 class="liella">トリオ重複状況</h3>
	<div id="Trio-Border" class="FixedHeader">
		<table id="Trio-Table">
			<thead>
				<tr>
					<th colspan="3">重複トリオ</th>
					<th>回数</th>
					<th>参加イベント</th>
				</tr>
			</thead>
			<tbody id="TrioData-contents">
			</tbody>
		</table>
	</div>
</section>

<section>
<h3 class="niji">更新履歴（イベント追加以外）</h3>
<p>下のボックス内の、色つきの日付の行をクリックすると詳しい情報が表示されます。</p>
<div id="history2">
	<details open>
		<summary><span class="date">2022/11/05</span> - レイアウト調整</summary>
		<div>
			<span class="fix"></span>「キャラクター登場状況」をリニューアル<br>
			<span class="fix"></span>レンダリングの最適化
		</div>
	</details>
	<details>
		<summary><span class="date">2022/06/25</span> - レイアウト調整</summary>
		<div>
			<span class="fix"></span>「イベント一覧」「トリオ重複状況」のヘッダーが固定されるように変更<br>
			<span class="fix"></span>更新履歴をリニューアル（他ページ同様、折りたたみ式に変更）<br>
			<span class="fix"></span>その他、各種レイアウトを調整
		</div>
	</details>
	<details>
		<summary><span class="date">2022/04/17</span> - レイアウト調整</summary>
		<div>
			<span class="fix"></span>「イベント一覧」「トリオ重複状況」のレイアウトを調整（高解像度の画面での閲覧を想定）
		</div>
	</details>
	<details>
		<summary><span class="date">2022/03/04</span> - 「イベント一覧」調整</summary>
		<div>
			<span class="fix"></span>「参加キャラクター」に、所属校に応じた背景色を付与
		</div>
	</details>
	<details>
		<summary><span class="date">2021/11/06</span> - レイアウト調整</summary>
		<div>
			<span class="fix"></span>「キャラクター登場状況」の表のレイアウトを調整
		</div>
	</details>
	<details>
		<summary><span class="date">2021/10/09</span> - ミア＆ランジュのプレイアブル化に伴う調整</summary>
		<div>
			<span class="new"></span>ミア、ランジュが表示可能になりました！
		</div>
	</details>
	<details>
		<summary><span class="date">2021/06/02</span> - 栞子のイベント参戦に伴う調整</summary>
		<div>
			<span class="new"></span>栞子が表示可能になりました！<br>
			<span class="fix"></span>「ペア共演状況」のレイアウト調整
		</div>
	</details>
	<details>
		<summary><span class="date">2020/09/03</span> - 「トリオ重複状況」実装</summary>
		<div>
			<span class="new"></span>「トリオ重複状況」を実装
		</div>
	</details>
	<details>
		<summary><span class="date">2020/08/02</span> - イベント毎の参加キャラクター表示</summary>
		<div>
			<span class="new"></span>「イベント一覧」のテーブルに「参加キャラクター」を追加
		</div>
	</details>
	<details>
		<summary><span class="date">2020/07/31</span> - 「キャラクター登場状況」実装</summary>
		<div>
			<span class="new"></span>「キャラクター登場状況」を実装
		</div>
	</details>
	<details>
		<summary><span class="date">2020/07/07</span> - 不具合修正</summary>
		<div>
			<span class="fix"></span>一部環境において、日付が正しく表示されない不具合を修正
		</div>
	</details>
	<details>
		<summary class="important"><span class="date">2020/07/05</span> - 公開</summary>
		<div>
			<span class="new"></span>公開
		</div>
	</details>
</div>
</section>

<nav>
<p><a id="BackToMain" href="index.html">トップページに戻る。</a></p>
</nav>

<script><!--
function loadScript(src, callback) {
    let done = false;
    let head = document.getElementsByTagName('head')[0];
    let script = document.createElement('script');
    script.src = src;
    head.appendChild(script);
    // Attach handlers for all browsers
    script.onload = script.onreadystatechange = function() {
        if ( !done && (!this.readyState ||
                this.readyState === "loaded" || this.readyState === "complete") ) {
            done = true;
            callback();
            // Handle memory leak in IE
            script.onload = script.onreadystatechange = null;
            if ( head && script.parentNode ) {
                head.removeChild( script );
            }
        }
    };
}

loadScript("data/events.js", function() {
	const TimeOutputStart = performance.now();
	
	let CardList = [];
	MakeTrioData();

	WriteEventList();
	DrawSingleTable();
	DrawPairTable();
	DrawDuplicatedTrioList(2);
	
	document.getElementById("Loading").style.display = "none";

	//■デバック用
	if(isDebugMode) {
		//◆デバッグモードであることを表示
		document.title = '[debug]' + document.title;
		document.bgColor = '#dce';
		
		document.getElementById("MainTitle").innerHTML += "*";
		document.getElementById("BackToMain").href += "?debug";
		
		//◆描画時間の出力
		const TimeOutputEnd = performance.now();
		console.log('スクスタ 過去のイベントまとめ\n初期処理: ' + (TimeOutputEnd - TimeOutputStart) + ' ミリ秒');
		
		//◆データの不具合チェック
		let isError = 0;
		
		for(let EventTemp of EventList){
			if(!('name' in EventTemp)){ //●タイトルが無い
				console.log('[Error] タイトル未設定のイベントがあります');
				isError++;
				break;
			}
			const EventName = EventTemp.name

			if('UR' in EventTemp){ //●URのチェック
				for(let CharTemp of EventTemp.UR){
					if(!(CharTemp in TagData)){ //登場人物が不正
						console.log('[Error] 登場人物が不正(UR): (' + CharTemp + ')\n\tイベント名: ' + EventName);
						isError++;
					}
				}
			} else { //未設定
				console.log('[Error] 登場人物が未設定(UR)\n\tイベント名: ' + EventName);
				isError++;
			}

			if('SR' in EventTemp){ //●URのチェック
				for(let CharTemp of EventTemp.UR){
					if(!(CharTemp in TagData)){ //登場人物が不正
						console.log('[Error] 登場人物が不正(SR): (' + CharTemp + ')\n\tイベント名: ' + EventName);
						isError++;
					}
				}
			} else { //未設定
				console.log('[Error] 登場人物が未設定(SR)\n\tイベント名: ' + EventName);
				isError++;
			}
		}

		for(i in EventList){
			if(EventList[i].id - 1 != i){
				console.log((EventList[i].id-1) + ", " + i);
				console.log('[Error] イベント番号が不正 (' + EventList[i].id + ')\n\tイベント名: ' + EventList[i].name);
				isError++;
			}
		}

		if(isError > 0){
			alert('' + isError + '件のエラーが見つかりました。コンソールを確認してください。');
		}
	}
});
--></script>
</body>
</html>